<link rel="import" href="shader-port.html">

<dom-module id="shader-node">
	<link rel="import" type="css" href="css/node.css">

	<template>
		<div id="title" class="draggable">
			{{type}}
		</div>
<!--
		<div id="background" class="draggable">
			<span>{{type}}</span>
		</div>
-->
		<div id="rack">
			<div class="inputs">
				<template is="dom-if" if="{{extra}}">
					<div class$="node-type-{{type}}">
						<template is="dom-repeat" items="{{extra}}"><editor-unit-input input-value="{{item.value}}"></editor-unit-input></template>
					</div>
				</template>
				<template is="dom-repeat" items="{{inputs}}">
					<shader-port
						type="in"
						node$={{id}}
						port$={{item.key}}
						connected={{item.connected}}
						class="in"
						click-handler={{portClickHandler}}
						data-type={{item.dataType}}
						>{{item.key}}</shader-port>
				</template>
			</div>

			<div class="outputs">
				<template is="dom-repeat" items="{{outputs}}">
					<shader-port
						type="out"
						node$={{id}}
						port$={{item.key}}
						connected={{item.connected}}
						class="out"
						click-handler={{portClickHandler}}
						data-type={{item.dataType}}
						>{{item.key}}</shader-port>
				</template>
			</div>
		</div>
    </template>

	<script src="js/node.js"></script>
</dom-module>
