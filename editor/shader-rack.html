<link rel="import" href="shader-port.html">

<dom-module id="shader-rack">
	<template>
		<style>
			:host {
				display: block;
			}
			.inputs {
				width: 50%;
				float: left;
			}
			.outputs {
				width: 50%;
				float: right;
			}
			.out,
			.in {
				cursor: pointer;
				margin: 3px;
				display: block;
			}
			.out {
				text-align: right;
			}
			.title {
				cursor: move;
				text-align: center;
				padding: 5px;
				background-color: #222;
				color: #9d9d9d;
			}
		</style>

		<div class="title">
			{{type}}
			<template is="dom-if" if="{{removeNode}}">
				<span class="glyphicon glyphicon-remove remove-button pull-right style-scope shader-graph" on-click="handleClickRemove"></span>
			</template>
		</div>

		<template is="dom-if" if="{{extra}}">
			<div>
				<template is="dom-repeat" items="{{extra}}">
					<input type="{{item.type}}" class$="{{item.className}}" value="{{item.value::change}}" on-change="_onValueChange"></input>
				</template>
			</div>
		</template>

		<div class="inputs">
			<template is="dom-repeat" items="{{inputs}}">
				<shader-port id="{{item}}{{id}}" type="in" class="in" instance={{instance}}>{{item}}</shader-port>
			</template>
		</div>
		<div class="outputs">
			<template is="dom-repeat" items="{{outputs}}">
				<shader-port id="{{item}}{{id}}" type="out" class="out" instance={{instance}}>{{item}}</shader-port>
			</template>
		</div>
    </template>

	<script src="js/rack.js"></script>
</dom-module>
